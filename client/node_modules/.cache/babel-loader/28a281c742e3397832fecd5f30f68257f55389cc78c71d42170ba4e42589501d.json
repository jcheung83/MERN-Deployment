{"ast":null,"code":"import _slicedToArray from\"C:/Programming_Folder/Express/mern_exam/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useParams,useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditPet=function EditPet(props){var _errors$name,_errors$type,_errors$description;var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(id)).then(function(res){var _res$data=res.data,name=_res$data.name,type=_res$data.type,description=_res$data.description,skill1=_res$data.skill1,skill2=_res$data.skill2,skill3=_res$data.skill3;setName(name);setType(type);setDescription(description);setSkill1(skill1);setSkill2(skill2);setSkill3(skill3);}).catch(function(err){console.log(err);});},[id]);var handleUpdate=function handleUpdate(e){e.preventDefault();var updatedPet={name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3};axios.put(\"http://localhost:8000/api/pets/edit/\".concat(id),updatedPet).then(function(res){navigate(\"/pets/\".concat(id));}).catch(function(err){var _err$response,_err$response$data;console.log(err.response);setErrors((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.errors);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 p-4 rounded mx-auto shadow\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"back to home\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"margin-top\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center\",children:[\"Edit \",name,\" \"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){handleUpdate(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Name\"}),(errors===null||errors===void 0?void 0:errors.name)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$name=errors.name)===null||_errors$name===void 0?void 0:_errors$name.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setName(event.target.value);},type:\"text\",className:\"form-control\",value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Type\"}),(errors===null||errors===void 0?void 0:errors.type)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$type=errors.type)===null||_errors$type===void 0?void 0:_errors$type.message}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setType(event.target.value);},type:\"text\",className:\"form-control\",value:type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Pet Description\"}),(errors===null||errors===void 0?void 0:errors.description)&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:(_errors$description=errors.description)===null||_errors$description===void 0?void 0:_errors$description.message}),/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(event){setDescription(event.target.value);},type:\"text\",className:\"form-control\",value:description})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Skills (optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 1\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill1(event.target.value);},type:\"text\",className:\"form-control\",value:skill1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 2\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill2(event.target.value);},type:\"text\",className:\"form-control\",value:skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"h6\",children:\"Skill 3\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setSkill3(event.target.value);},type:\"text\",className:\"form-control\",value:skill3})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-primary\",children:\"Edit Pet\"})]})]})]});};export default EditPet;","map":{"version":3,"names":["axios","useState","useEffect","useParams","useNavigate","Link","EditPet","props","id","name","setName","type","setType","description","setDescription","skill1","setSkill1","skill2","setSkill2","skill3","setSkill3","errors","setErrors","navigate","get","then","res","data","catch","err","console","log","handleUpdate","e","preventDefault","updatedPet","put","response","color","message","event","target","value"],"sources":["C:/Programming_Folder/Express/mern_exam/client/src/components/EditPet.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\r\n\r\nexport const EditPet = (props) => {\r\n    const {id} = useParams();\r\n\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [skill1, setSkill1] = useState('');\r\n    const [skill2, setSkill2] = useState('');\r\n    const [skill3, setSkill3] = useState('');\r\n    const [errors, setErrors] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:8000/api/pets/${id}`)\r\n            .then(res => {\r\n                const {\r\n                    name,\r\n                    type,\r\n                    description,\r\n                    skill1,\r\n                    skill2,\r\n                    skill3\r\n                } = res.data\r\n\r\n                setName(name);\r\n                setType(type);\r\n                setDescription(description);\r\n                setSkill1(skill1);\r\n                setSkill2(skill2);\r\n                setSkill3(skill3);\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n    }, [id])\r\n\r\n    const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        const updatedPet = {\r\n        name,\r\n        type,\r\n        description,\r\n        skill1,\r\n        skill2,\r\n        skill3\r\n        }\r\n\r\n        axios.put(`http://localhost:8000/api/pets/edit/${id}`, updatedPet)\r\n        .then(res => {\r\n            navigate(`/pets/${id}`);\r\n        }).catch(err => {\r\n            console.log(err.response);\r\n            setErrors(err.response?.data?.errors)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-50 p-4 rounded mx-auto shadow\">\r\n            <nav className=\"flex\">\r\n                <h1>Pet Shelter</h1>\r\n                <Link to=\"/\">back to home</Link>\r\n            </nav>\r\n            <div className=\"margin-top\">\r\n                <h3 className=\"text-center\">Edit {name} </h3>\r\n\r\n                <form\r\n                    onSubmit={e => { handleUpdate(e) }}\r\n                >\r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Pet Name</label>\r\n                    {\r\n                        errors?.name && (\r\n                        <p style={{ color: 'red' }}>{errors.name?.message}</p>\r\n                        )\r\n                    }\r\n                    <input\r\n                        onChange={(event) => {\r\n                        setName(event.target.value);\r\n                        }}\r\n                        type=\"text\" className=\"form-control\" value={name}\r\n                    />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Pet Type</label>\r\n                    {\r\n                        errors?.type && (\r\n                        <p style={{ color: 'red' }}>{errors.type?.message}</p>\r\n                        )\r\n                    }\r\n                    <input\r\n                        onChange={(event) => {\r\n                        setType(event.target.value);\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"form-control\" value={type}\r\n                    />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Pet Description</label>\r\n                    {\r\n                        errors?.description && (\r\n                        <p style={{ color: 'red' }}>{errors.description?.message}</p>\r\n                        )\r\n                    }\r\n                    <textarea\r\n                        onChange={(event) => {\r\n                        setDescription(event.target.value);\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"form-control\" value={description}\r\n                    ></textarea>\r\n                    </div>\r\n                    <p></p>\r\n                    <h4>Skills (optional)</h4>\r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Skill 1</label>\r\n                    <input\r\n                        onChange={(event) => {\r\n                        setSkill1(event.target.value);\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"form-control\" value={skill1}\r\n                    />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Skill 2</label>\r\n                    <input\r\n                        onChange={(event) => {\r\n                        setSkill2(event.target.value);\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"form-control\" value={skill2}\r\n                    />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                    <label className=\"h6\">Skill 3</label>\r\n                    <input\r\n                        onChange={(event) => {\r\n                        setSkill3(event.target.value);\r\n                        }}\r\n                        type=\"text\"\r\n                        className=\"form-control\" value={skill3}\r\n                    />\r\n                    </div>\r\n                    <button className=\"btn btn-sm btn-outline-primary\">Edit Pet</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default EditPet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}